CC 	= @CC@
CFLAGS 	= @CFLAGS@
XINCL 	= @x_includes@
TOPSRC  = @top_srcdir@
DIVINCL = -I$(TOPSRC)/include
LD	= @LD@
LDCOMBINEFLAGS = @LDCOMBINEFLAGS@


MODULE 	= memory

SRCS = \
	atom.c \
	global.c \
	ldt.c \
	local.c \
	selector.c
 
OBJS = $(SRCS:.c=.o)

.c.o:
	$(CC) -c $(CFLAGS) $(XINCL) $(DIVINCL) -o $*.o $<

all: $(MODULE).o

$(MODULE).o: $(OBJS)
	$(LD) $(LDCOMBINEFLAGS) $(OBJS) -o $(MODULE).o

depend:
	sed '/\#\#\# Dependencies/q' < Makefile > tmp_make
	$(CC) $(DIVINCL) $(XINCL) -MM *.c >> tmp_make
	mv tmp_make Makefile

clean:
	rm -f *.o \#*\# *~ *.bak tmp_make

distclean: clean
	rm -f Makefile

countryclean:

dummy:

### Dependencies:
