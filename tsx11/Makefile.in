DEFS      = @DLLFLAGS@ -D__WINE__
TOPSRCDIR = @top_srcdir@
TOPOBJDIR = ..
SRCDIR    = @srcdir@
VPATH     = @srcdir@
LIBEXT    = @LIBEXT@
MODULE    = none
SOVERSION = 1.0
SONAME    = libwine_tsx11.so
EXTRALIBS = $(X_LIBS) $(XLIB)

C_SRCS = \
	locking.c \
	ts_xf86dga.c \
	ts_xf86dga2.c \
	ts_xf86vmode.c \
	ts_xshm.c \
	ts_xlib.c \
	ts_xrender.c \
	ts_xresource.c \
	ts_xvideo.c \
	ts_xutil.c \
	ts_shape.c

all: libwine_tsx11.$(LIBEXT)

@MAKE_RULES@

libwine_tsx11.so.$(SOVERSION): $(OBJS)
	$(LDSHARED) $(OBJS) -o $@ $(EXTRALIBS)

libwine_tsx11.so: libwine_tsx11.so.$(SOVERSION)
	$(RM) $@ && $(LN_S) libwine_tsx11.so.$(SOVERSION) $@

libwine_tsx11.a: $(OBJS)
	$(RM) $@
	$(AR) $@ $(OBJS)
	$(RANLIB) $@

libwine_tsx11.dll: $(OBJS)
	$(DLLWRAP) $(DLLWRAPFLAGS) --export-all --implib libwine_tsx11.a -o libwine_tsx11.dll $(OBJS)

install_so: libwine_tsx11.so.$(SOVERSION)
	[ -d $(libdir) ] || $(MKDIR) $(libdir)
	$(INSTALL_PROGRAM) libwine_tsx11.so.$(SOVERSION) $(libdir)/libwine_tsx11.so.$(SOVERSION)
	cd $(libdir) && $(RM) libwine_tsx11.so && $(LN_S) libwine_tsx11.so.$(SOVERSION) libwine_tsx11.so

install_a: libwine_tsx11.a
	[ -d $(libdir) ] || $(MKDIR) $(libdir)
	$(INSTALL_DATA) libwine_tsx11.a $(libdir)/libwine_tsx11.a

install:: all $(LIBEXT:%=install_%)

uninstall::
	cd $(libdir) && $(RM) libwine_tsx11.a libwine_tsx11.so libwine_tsx11.so.$(SOVERSION)

clean::
	$(RM) libwine_tsx11.so.$(SOVERSION)

### Dependencies:
