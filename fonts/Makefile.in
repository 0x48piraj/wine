TOPSRCDIR = @top_srcdir@
TOPOBJDIR = ..
SRCDIR    = @srcdir@
VPATH     = @srcdir@
MODULE    = none
fontdir   = $(datadir)/fonts/wine

BITMAP_FONTS  = \
	coure.fon \
	couree.fon \
	courer.fon \
	sserife.fon \
	sserifee.fon \
	sserifer.fon \
	vgasys.fon \
	vgasyse.fon \
	vgasysr.fon \
	svgasys.fon \
	cvgasys.fon 

TRUETYPE_FONTS = \
	marlett.ttf

FONTS = \
	$(BITMAP_FONTS) \
	$(TRUETYPE_FONTS)

all: $(FONTS)

@MAKE_RULES@

courier.ttf: courier.sfd
	$(FONTFORGE) -script $(TOPSRCDIR)/fonts/genttf.ff $< $@

ms_sans_serif.ttf: ms_sans_serif.sfd
	$(FONTFORGE) -script $(TOPSRCDIR)/fonts/genttf.ff $< $@

system.ttf: system.sfd
	$(FONTFORGE) -script $(TOPSRCDIR)/fonts/genttf.ff $< $@

courier-1252-96-13.fnt: courier.ttf $(SFNT2FNT)
	$(LDPATH) $(SFNT2FNT) $< 13 1252 96 128 8

courier-1250-96-13.fnt: courier.ttf $(SFNT2FNT)
	$(LDPATH) $(SFNT2FNT) $< 13 1250 96 128 8

courier-1251-96-13.fnt: courier.ttf $(SFNT2FNT)
	$(LDPATH) $(SFNT2FNT) $< 13 1251 96 128 8

ms_sans_serif-1252-96-13.fnt: ms_sans_serif.ttf $(SFNT2FNT)
	$(LDPATH) $(SFNT2FNT) $< 13 1252 96 129 5

ms_sans_serif-1252-96-16.fnt: ms_sans_serif.ttf $(SFNT2FNT)
	$(LDPATH) $(SFNT2FNT) $< 16 1252 96 129 7

ms_sans_serif-1252-96-20.fnt: ms_sans_serif.ttf $(SFNT2FNT)
	$(LDPATH) $(SFNT2FNT) $< 20 1252 96 129 8

ms_sans_serif-1250-96-13.fnt: ms_sans_serif.ttf $(SFNT2FNT)
	$(LDPATH) $(SFNT2FNT) $< 13 1250 96 129 5

ms_sans_serif-1250-96-16.fnt: ms_sans_serif.ttf $(SFNT2FNT)
	$(LDPATH) $(SFNT2FNT) $< 16 1250 96 129 7

ms_sans_serif-1251-96-13.fnt: ms_sans_serif.ttf $(SFNT2FNT)
	$(LDPATH) $(SFNT2FNT) $< 13 1251 96 129 5

ms_sans_serif-1251-96-16.fnt: ms_sans_serif.ttf $(SFNT2FNT)
	$(LDPATH) $(SFNT2FNT) $< 16 1251 96 129 7

ms_sans_serif-1251-96-20.fnt: ms_sans_serif.ttf $(SFNT2FNT)
	$(LDPATH) $(SFNT2FNT) $< 20 1251 96 129 8

system-1252-96-16.fnt: system.ttf $(SFNT2FNT)
	$(LDPATH) $(SFNT2FNT) $< 16 1252 96 128 7

system-1250-96-16.fnt: system.ttf $(SFNT2FNT)
	$(LDPATH) $(SFNT2FNT) $< 16 1250 96 128 7

system-1251-96-16.fnt: system.ttf $(SFNT2FNT)
	$(LDPATH) $(SFNT2FNT) $< 16 1251 96 128 7

system-936-96-16.fnt: system.ttf $(SFNT2FNT)
	$(LDPATH) $(SFNT2FNT) $< 16 936 96 128 7

system-950-96-16.fnt: system.ttf $(SFNT2FNT)
	$(LDPATH) $(SFNT2FNT) $< 16 950 96 128 7

coure.fon: courier-1252-96-13.fnt $(FNT2FON)
	$(FNT2FON) courier-1252-96-13.fnt $@

couree.fon: courier-1250-96-13.fnt $(FNT2FON)
	$(FNT2FON) courier-1250-96-13.fnt $@

courer.fon: courier-1251-96-13.fnt $(FNT2FON)
	$(FNT2FON) courier-1251-96-13.fnt $@

sserife.fon: ms_sans_serif-1252-96-13.fnt ms_sans_serif-1252-96-16.fnt ms_sans_serif-1252-96-20.fnt $(FNT2FON)
	$(FNT2FON) ms_sans_serif-1252-96-13.fnt ms_sans_serif-1252-96-16.fnt ms_sans_serif-1252-96-20.fnt $@

sserifee.fon: ms_sans_serif-1250-96-13.fnt ms_sans_serif-1250-96-16.fnt $(FNT2FON)
	$(FNT2FON) ms_sans_serif-1250-96-13.fnt ms_sans_serif-1250-96-16.fnt $@

sserifer.fon: ms_sans_serif-1251-96-13.fnt ms_sans_serif-1251-96-16.fnt ms_sans_serif-1251-96-20.fnt $(FNT2FON)
	$(FNT2FON) ms_sans_serif-1251-96-13.fnt ms_sans_serif-1251-96-16.fnt ms_sans_serif-1251-96-20.fnt $@

vgasys.fon: system-1252-96-16.fnt $(FNT2FON)
	$(FNT2FON) system-1252-96-16.fnt $@

vgasyse.fon: system-1250-96-16.fnt $(FNT2FON)
	$(FNT2FON) system-1250-96-16.fnt $@

vgasysr.fon: system-1251-96-16.fnt $(FNT2FON)
	$(FNT2FON) system-1251-96-16.fnt $@

svgasys.fon: system-936-96-16.fnt system-1252-96-16.fnt $(FNT2FON)
	$(FNT2FON) system-936-96-16.fnt system-1252-96-16.fnt $@

cvgasys.fon: system-950-96-16.fnt system-1252-96-16.fnt $(FNT2FON)
	$(FNT2FON) system-950-96-16.fnt system-1252-96-16.fnt $@

install:: $(FONTS)
	$(MKINSTALLDIRS) $(fontdir)
	for i in $(FONTS); do $(INSTALL_DATA) $$i $(fontdir)/$$i || exit 1; done

uninstall::
	-cd $(fontdir) && $(RM) $(FONTS)
	-rmdir $(fontdir)

clean::
	$(RM) *.fon *.fnt *.ttf

### Dependencies:
