EXTRADEFS = -DBINDIR="\"$(bindir)\""
TOPSRCDIR = @top_srcdir@
TOPOBJDIR = ../..
SRCDIR    = @srcdir@
VPATH     = @srcdir@
MODULE    = x11drv.dll
IMPORTS   = user32 gdi32 advapi32 kernel32 ntdll
EXTRAINCL = @X_CFLAGS@
EXTRALIBS = @X_LIBS@ @X_PRE_LIBS@ @XLIB@ @X_EXTRA_LIBS@

C_SRCS = \
	$(TOPOBJDIR)/graphics/x11drv/bitblt.c \
	$(TOPOBJDIR)/graphics/x11drv/bitmap.c \
	$(TOPOBJDIR)/graphics/x11drv/brush.c \
	$(TOPOBJDIR)/graphics/x11drv/clipping.c \
	$(TOPOBJDIR)/graphics/x11drv/codepage.c \
	$(TOPOBJDIR)/graphics/x11drv/dib.c \
	$(TOPOBJDIR)/graphics/x11drv/graphics.c \
	$(TOPOBJDIR)/graphics/x11drv/init.c \
	$(TOPOBJDIR)/graphics/x11drv/opengl.c \
	$(TOPOBJDIR)/graphics/x11drv/palette.c \
	$(TOPOBJDIR)/graphics/x11drv/pen.c \
	$(TOPOBJDIR)/graphics/x11drv/text.c \
	$(TOPOBJDIR)/graphics/x11drv/xfont.c \
	desktop.c \
	clipboard.c \
	dga2.c \
	event.c \
	keyboard.c \
	mouse.c \
	scroll.c \
	settings.c \
	ts_xlib.c \
	window.c \
	winpos.c \
	x11ddraw.c \
	x11drv_main.c \
	xrandr.c \
	xrender.c \
	xvidmode.c

PROGRAMS = wineclipsrv

EXTRASUBDIRS = \
	$(TOPOBJDIR)/graphics/x11drv

@MAKE_DLL_RULES@

all: $(PROGRAMS)

wineclipsrv: wineclipsrv.c
	$(CC) $(ALLCFLAGS) -o wineclipsrv $(SRCDIR)/wineclipsrv.c $(EXTRALIBS) $(LDFLAGS) $(LIBS)

install:: $(PROGRAMS)
	$(MKINSTALLDIRS) $(bindir)
	$(INSTALL_PROGRAM) wineclipsrv $(bindir)/wineclipsrv

uninstall::
	$(RM) $(bindir)/wineclipsrv

### Dependencies:
