EXTRADEFS = -DBINDIR="\"$(bindir)\""
TOPSRCDIR = @top_srcdir@
TOPOBJDIR = ../..
SRCDIR    = @srcdir@
VPATH     = @srcdir@
MODULE    = x11drv.dll
IMPORTS   = user32.dll gdi32.dll advapi32.dll kernel32.dll ntdll.dll
EXTRALIBS = $(LIBTSX11) $(X_LIBS) $(XLIB)
LDIMPORTS = user32.dll gdi32.dll kernel32.dll

C_SRCS = \
	desktop.c \
	clipboard.c \
	dga2.c \
	event.c \
	keyboard.c \
	mouse.c \
	scroll.c \
	window.c \
	winpos.c \
	x11ddraw.c \
	x11drv_main.c \
	xrender.c \
	xvidmode.c

PROGRAMS = wineclipsrv

EXTRA_OBJS = \
	$(TOPOBJDIR)/graphics/x11drv/x11drv.o

SUBDIRS = \
	$(TOPOBJDIR)/graphics/x11drv

@MAKE_DLL_RULES@

all: $(PROGRAMS)

wineclipsrv: wineclipsrv.c
	$(CC) $(ALLCFLAGS) -o wineclipsrv $(SRCDIR)/wineclipsrv.c $(X_LIBS) $(XLIB) $(LIBS)

$(EXTRA_OBJS): dummy
	@cd `dirname $@` && $(MAKE) `basename $@`

install:: $(PROGRAMS) install_libdir
	$(MKINSTALLDIRS) $(bindir)
	$(INSTALL_PROGRAM) wineclipsrv $(bindir)/wineclipsrv

uninstall:: uninstall_libdir
	$(RM) $(bindir)/wineclipsrv

### Dependencies:
