TOPSRCDIR = @top_srcdir@
TOPOBJDIR = ../..
SRCDIR    = @srcdir@
VPATH     = @srcdir@
MODULE    = x11drv
SOVERSION = 1.0
EXTRALIBS = $(X_LIBS) $(XLIB)
IMPORTS   = user32 gdi32 kernel32

C_SRCS = \
	x11drv_main.c

PROGRAMS = \
	$(TOPOBJDIR)/windows/x11drv/wineclipsrv

EXTRA_OBJS = \
	$(TOPOBJDIR)/graphics/x11drv/x11drv.o \
	$(TOPOBJDIR)/tsx11/tsx11.o \
	$(TOPOBJDIR)/windows/x11drv/x11drv.o

SUBDIRS = \
	$(TOPOBJDIR)/graphics/x11drv \
	$(TOPOBJDIR)/tsx11 \
	$(TOPOBJDIR)/windows/x11drv

@MAKE_DLL_RULES@

all: $(PROGRAMS)

$(EXTRA_OBJS) $(PROGRAMS): $(TOOLSUBDIRS) dummy
	@cd `dirname $@` && $(MAKE) `basename $@`

install:: $(PROGRAMS)
	[ -d $(bindir) ] || $(MKDIR) $(bindir)
	$(INSTALL_PROGRAM) $(TOPOBJDIR)/windows/x11drv/wineclipsrv $(bindir)/wineclipsrv

uninstall::
	cd $(bindir) && $(RM) wineclipsrv

### Dependencies:
