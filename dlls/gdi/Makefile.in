EXTRADEFS = -D_GDI32_
TOPSRCDIR = @top_srcdir@
TOPOBJDIR = ../..
SRCDIR    = @srcdir@
VPATH     = @srcdir@
MODULE    = gdi32.dll
ALTNAMES  = gdi.exe dispdib.dll wing.dll
IMPORTS   = kernel32.dll ntdll.dll
EXTRALIBS = @FREETYPELIBS@
EXTRAINCL = @FREETYPEINCL@

C_SRCS = \
	bidi16.c \
	driver.c \
	enhmfdrv/dc.c \
	enhmfdrv/graphics.c \
	enhmfdrv/init.c \
	enhmfdrv/mapping.c \
	enhmfdrv/objects.c \
	freetype.c \
	gdi_main.c \
	mfdrv/bitblt.c \
	mfdrv/dc.c \
	mfdrv/graphics.c \
	mfdrv/init.c \
	mfdrv/mapping.c \
	mfdrv/objects.c \
	mfdrv/text.c \
	printdrv.c \
	win16drv/brush.c \
	win16drv/font.c \
	win16drv/graphics.c \
	win16drv/init.c \
	win16drv/objects.c \
	win16drv/pen.c \
	win16drv/prtdrv.c \
	win16drv/text.c \
	wing.c

RC_SRCS= \
	version.rc

RC_SRCS16= \
	version16.rc

GLUE = \
	printdrv.c \
	win16drv/prtdrv.c

EXTRA_OBJS = \
	$(TOPOBJDIR)/graphics/graphics.o \
	$(TOPOBJDIR)/objects/objects.o

SUBDIRS = \
	$(TOPOBJDIR)/graphics \
	$(TOPOBJDIR)/objects

EXTRASUBDIRS = \
	enhmfdrv \
	mfdrv \
	win16drv

@MAKE_DLL_RULES@

$(EXTRA_OBJS): dummy
	@cd `dirname $@` && $(MAKE) `basename $@`

# Special rules for 16-bit resource files

version16.res: version16.rc
	$(LDPATH) $(WRC) $(DIVINCL) -o $@ -w16 -m -r $(SRCDIR)/version16.rc

gdi.exe.spec.c: version16.res

install:: install_libdir
uninstall:: uninstall_libdir

### Dependencies:
