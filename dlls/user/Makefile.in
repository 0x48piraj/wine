TOPSRCDIR = @top_srcdir@
TOPOBJDIR = ../..
SRCDIR    = @srcdir@
VPATH     = @srcdir@
MODULE    = user32
SOVERSION = 1.0
ALTNAMES  = user keyboard ddeml display mouse
IMPORTS   = gdi32 kernel32 ntdll

C_SRCS = \
	bidi16.c \
	cache.c \
	ddeml.c \
	display.c \
	exticon.c \
	lstr.c \
	misc.c \
	mouse.c \
	network.c \
	resource.c \
	text.c \
	thunk.c \
	user_main.c \
	wsprintf.c

RC_SRCS = \
	resources/display.rc \
	resources/mouse.rc \
	resources/user32.rc

GLUE = thunk.c

EXTRA_OBJS = \
	$(TOPOBJDIR)/controls/controls.o \
	$(TOPOBJDIR)/windows/windows.o

SUBDIRS = \
	$(TOPOBJDIR)/controls \
	$(TOPOBJDIR)/windows

EXTRASUBDIRS = \
	resources

@MAKE_DLL_RULES@

$(EXTRA_OBJS): dummy
	@cd `dirname $@` && $(MAKE) `basename $@`

# Special rules for 16-bit resource files

resources/display.res: resources/display.rc
	$(LDPATH) $(WRC) $(DIVINCL) -o $@ -w16 -m -r $(SRCDIR)/resources/display.rc

resources/mouse.res: resources/mouse.rc
	$(LDPATH) $(WRC) $(DIVINCL) -o $@ -w16 -m -r $(SRCDIR)/resources/mouse.rc

display.spec.c: resources/display.res

mouse.spec.c: resources/mouse.res

### Dependencies:
