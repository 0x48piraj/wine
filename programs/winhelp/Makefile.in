TOPSRCDIR = @top_srcdir@
TOPOBJDIR = ../..
SRCDIR    = @srcdir@
VPATH     = @srcdir@
MODULE    = winhelp
IMPORTS   = comdlg32.dll shell32.dll user32.dll gdi32.dll kernel32.dll ntdll.dll
PROGRAMS  = hlp2sgml

C_SRCS = \
	winhelp.c \
	hlpfile.c \
	macro.c \
	string.c

EXTRA_SRCS = macro.yacc.y macro.lex.l
EXTRA_OBJS = y.tab.o @LEX_OUTPUT_ROOT@.o

RC_SRCS = rsrc.rc

@MAKE_PROG_RULES@

all: $(PROGRAMS)

hlp2sgml: hlp2sgml.o hlpfile.o
	$(CC) -o hlp2sgml hlp2sgml.o hlpfile.o

y.tab.c y.tab.h: macro.yacc.y
	$(YACC) -d -t $(SRCDIR)/macro.yacc.y

@LEX_OUTPUT_ROOT@.c: macro.lex.l
	$(LEX) -8 -i $(SRCDIR)/macro.lex.l

### Dependencies:
