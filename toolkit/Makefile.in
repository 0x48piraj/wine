TOPSRC = @top_srcdir@
X_LIBS = @X_LIBS@
XLIB   = @X_PRE_LIBS@ -lXext -lX11 @X_EXTRA_LIBS@
MODULE = toolkit

C_SRCS = \
	atom.c \
	arch.c \
	heap.c \
	libres.c \
	miscstubs.c \
	sup.c \
	winmain.c

all: $(MODULE).o

hello: hello.o ../winelib.a
	gcc -g -o hello hello.o ../winelib.a -lm $(X_LIBS) -lXpm $(XLIB)

hello2: hello2.o ../winelib.a
	gcc -g -o hello2 hello2.o ../winelib.a -lm $(X_LIBS) -lXpm $(XLIB)

hello3: hello3res.o hello3.o
	gcc -g -o hello3 hello3.o hello3res.o ../winelib.a -lm $(X_LIBS) -lXpm $(XLIB)

hello3.o:   hello3res.o

hello3res.o:    hello3res.rc
	echo "#include \"windows.h\"" >hello3res.rct
	echo WINDOWS_H_ENDS_HERE >>hello3res.rct
	cat hello3res.rc  >>hello3res.rct
	$(CC) $(ALLCFLAGS) -E -x c -P hello3res.rct | sed -e '1,/^WINDOWS_H_ENDS_HERE/d' | ../rc/winerc -o hello3res -v -p hello3
	gcc -c $(ALLCFLAGS) hello3res.c

@MAKE_RULES@

clean::
	$(RM) hello hello2 hello3

### Dependencies:
