DEFS      = -D__WINE__ -DLEX_OUTPUT_ROOT="\"@LEX_OUTPUT_ROOT@\"" 
TOPSRCDIR = @top_srcdir@
TOPOBJDIR = ..
SRCDIR    = @srcdir@
VPATH     = @srcdir@

PROGRAMS = makedep fnt2bdf bin2res winelauncher
MODULE   = none

C_SRCS = makedep.c fnt2bdf.c bin2res.c

SUBDIRS = \
	winebuild \
	winedump \
	wmc \
	wrc

INSTALLSUBDIRS = \
	winebuild \
	winedump \
	wmc \
	wrc

EXTRASUBDIRS = \
	winapi_check \
	winapi_check/win16 \
	winapi_check/win32 \
	wineconf.libs

all: $(PROGRAMS) winebuild winedump wmc wrc

@MAKE_RULES@

makedep: makedep.o
	$(CC) $(CFLAGS) -o makedep makedep.o

fnt2bdf: fnt2bdf.o
	$(CC) $(CFLAGS) -o fnt2bdf fnt2bdf.o

bin2res: bin2res.o
	$(CC) $(CFLAGS) -o bin2res bin2res.o

winelauncher: winelauncher.in
	sed -e 's,@bindir\@,$(bindir),g' -e 's,@libdir\@,$(libdir),g' $(SRCDIR)/winelauncher.in >$@ || $(RM) $@

install:: $(PROGRAMS) $(INSTALLSUBDIRS:%=%/__install__)
	[ -d $(bindir) ] || $(MKDIR) $(bindir)
	$(INSTALL_PROGRAM) fnt2bdf $(bindir)/fnt2bdf
	$(INSTALL_SCRIPT) winelauncher $(bindir)/winelauncher
	$(INSTALL_SCRIPT) $(SRCDIR)/winemaker $(bindir)/winemaker
	$(INSTALL_SCRIPT) $(SRCDIR)/wineshelllink $(bindir)/wineshelllink

uninstall:: $(INSTALLSUBDIRS:%=%/__uninstall__)
	$(RM) $(bindir)/fnt2bdf $(bindir)/winelauncher $(bindir)/winemaker $(bindir)/wineshelllink

### Dependencies:
