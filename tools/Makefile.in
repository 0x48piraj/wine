DEFS      = -D__WINE__ -DNO_LIBWINE -DLEX_OUTPUT_ROOT="\"@LEX_OUTPUT_ROOT@\""
TOPSRCDIR = @top_srcdir@
TOPOBJDIR = ..
SRCDIR    = @srcdir@
VPATH     = @srcdir@
MODULE   = none

PROGRAMS = \
	bin2res \
	fnt2bdf \
	makedep \
	mingwrap

C_SRCS = \
	bin2res.c \
	fnt2bdf.c \
	makedep.c \
	mingwrap.c

SUBDIRS = \
	widl \
	winebuild \
	winedump \
	wmc \
	wpp \
	wrc

INSTALLSUBDIRS = $(SUBDIRS)

EXTRASUBDIRS = \
	winapi_check \
	wineconf.libs

all: $(PROGRAMS) $(SUBDIRS)

@MAKE_RULES@

widl wrc: wpp

makedep: makedep.o
	$(CC) $(CFLAGS) -o makedep makedep.o

fnt2bdf: fnt2bdf.o
	$(CC) $(CFLAGS) -o fnt2bdf fnt2bdf.o

bin2res: bin2res.o
	$(CC) $(CFLAGS) -o bin2res bin2res.o

mingwrap: mingwrap.o
	$(CC) $(CFLAGS) -DINCLUDEDIR="$(includedir)" -o mingwrap mingwrap.o

install::
	$(MKINSTALLDIRS) $(bindir) $(mandir)/man$(prog_manext)
	$(INSTALL_SCRIPT) $(SRCDIR)/winemaker $(bindir)/winemaker
	$(INSTALL_SCRIPT) $(SRCDIR)/mingwrap $(bindir)/mingwrap
	$(INSTALL_DATA) $(SRCDIR)/winemaker.man $(mandir)/man$(prog_manext)/winemaker.$(prog_manext)

uninstall::
	$(RM) $(bindir)/winemaker $(bindir)/mingwrap $(mandir)/man$(prog_manext)/winemaker.$(prog_manext)

### Dependencies:
