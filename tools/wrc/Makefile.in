DEFS      = -D__WINE__
TOPSRCDIR = @top_srcdir@
TOPOBJDIR = ../..
SRCDIR    = @srcdir@
VPATH     = @srcdir@
LEXOPT    = -Cf #-w -b
YACCOPT   = #-v

PROGRAMS = wrc@PROGEXT@
MODULE   = none

C_SRCS = \
	dumpres.c \
	genres.c \
	newstruc.c \
	preproc.c \
	readres.c \
	utils.c \
	wrc.c \
	writeres.c

EXTRA_SRCS = parser.y parser.l ppl.l ppy.y  ppy.tab.c lex.ppl.c
EXTRA_OBJS = y.tab.o lex.yy.o ppy.tab.o lex.ppl.o

all: $(PROGRAMS)

depend: y.tab.h ppy.tab.h ppy.tab.c lex.ppl.c

@MAKE_RULES@

wrc@PROGEXT@: $(OBJS)
	$(CC) $(CFLAGS) -o wrc@PROGEXT@ $(OBJS) $(LEXLIB)

y.tab.c y.tab.h: parser.y
	$(YACC) $(YACCOPT) -d -t $(SRCDIR)/parser.y

ppy.tab.c ppy.tab.h: ppy.y
	$(YACC) $(YACCOPT) -bppy -ppp -d -t $(SRCDIR)/ppy.y

lex.yy.c: parser.l
	$(LEX) $(LEXOPT) -d -8 $(SRCDIR)/parser.l

lex.ppl.c: ppl.l
	$(LEX) $(LEXOPT) -d -Ppp -8 -olex.ppl.c $(SRCDIR)/ppl.l

clean::
	$(RM) y.tab.c y.tab.h lex.yy.c ppy.tab.c ppy.tab.h lex.ppl.c ppy.output lex.backup y.output

### Dependencies:
